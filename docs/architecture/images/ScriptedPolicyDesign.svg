<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="419px" preserveAspectRatio="none" style="width:620px;height:419px;" version="1.1" viewBox="0 0 620 419" width="620px" zoomAndPan="magnify"><defs><filter height="300%" id="fa24zahwofl6d" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="223" y="22.9951">Scripted Policy Design</text><rect fill="#ADD8E6" height="373.9531" style="stroke: #A80036; stroke-width: 1.0;" width="264" x="339" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="424" y="46.3638">PolicyDesign</text><rect fill="#FFFFFF" filter="url(#fa24zahwofl6d)" height="244.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="66" y="98.7266"/><rect fill="#FFFFFF" filter="url(#fa24zahwofl6d)" height="230.9297" style="stroke: #000000; stroke-width: 2.0;" width="596" x="13" y="105.7266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="71" x2="71" y1="88.7266" y2="353.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="413" x2="413" y1="88.7266" y2="353.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="546" x2="546" y1="88.7266" y2="353.6563"/><rect fill="#FEFECE" filter="url(#fa24zahwofl6d)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="23" y="37.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="30" y="58.1328">«API_User»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="49.5" y="74.4297">Script</text><rect fill="#FEFECE" filter="url(#fa24zahwofl6d)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="23" y="352.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="30" y="373.6563">«API_User»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="49.5" y="389.9531">Script</text><rect fill="#FEFECE" filter="url(#fa24zahwofl6d)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="343" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="350" y="73.4248">PolicyTypeDesign</text><rect fill="#FEFECE" filter="url(#fa24zahwofl6d)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="343" y="352.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="350" y="372.6514">PolicyTypeDesign</text><rect fill="#FEFECE" filter="url(#fa24zahwofl6d)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="493" y="53.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="500" y="73.4248">PolicyDesign</text><rect fill="#FEFECE" filter="url(#fa24zahwofl6d)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="493" y="352.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="500" y="372.6514">PolicyDesign</text><rect fill="#FFFFFF" filter="url(#fa24zahwofl6d)" height="244.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="66" y="98.7266"/><path d="M13,105.7266 L90,105.7266 L90,112.7266 L80,122.7266 L13,122.7266 L13,105.7266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="230.9297" style="stroke: #000000; stroke-width: 2.0;" width="596" x="13" y="105.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="118.7935">loop</text><polygon fill="#A80036" points="401,139.9922,411,143.9922,401,147.9922,405,143.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="76" x2="407" y1="143.9922" y2="143.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="83" y="138.9263">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="96" y="138.9263">Read Policy Type using command</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="76" x2="118" y1="173.125" y2="173.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="118" x2="118" y1="173.125" y2="186.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="77" x2="118" y1="186.125" y2="186.125"/><polygon fill="#A80036" points="87,182.125,77,186.125,87,190.125,83,186.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="83" y="168.0591">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="96" y="168.0591">Prepare TOSCA Policy for creation</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="76" x2="118" y1="215.2578" y2="215.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="118" x2="118" y1="215.2578" y2="228.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="77" x2="118" y1="228.2578" y2="228.2578"/><polygon fill="#A80036" points="87,224.2578,77,228.2578,87,232.2578,83,228.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="83" y="210.1919">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="282" x="96" y="210.1919">Parse parameters from retrieved policy type</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="76" x2="118" y1="257.3906" y2="257.3906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="118" x2="118" y1="257.3906" y2="270.3906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="77" x2="118" y1="270.3906" y2="270.3906"/><polygon fill="#A80036" points="87,266.3906,77,270.3906,87,274.3906,83,270.3906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="83" y="252.3247">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="96" y="252.3247">Set Parameters in TOSCA Policy being prepared</text><polygon fill="#A80036" points="534,295.5234,544,299.5234,534,303.5234,538,299.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="76" x2="540" y1="299.5234" y2="299.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="83" y="294.4575">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="96" y="294.4575">Create Policy using command</text><polygon fill="#A80036" points="87,324.6563,77,328.6563,87,332.6563,83,328.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="81" x2="545" y1="328.6563" y2="328.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="93" y="323.5903">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="106" y="323.5903">Policy creation result</text><!--
@startuml

title Scripted Policy Design

participant Script <<API_User >>

box "PolicyDesign" #LightBlue
  participant PolicyTypeDesign
  participant PolicyDesign
end box

autonumber

activate Script

loop
  Script - -> PolicyTypeDesign : Read Policy Type using command
  Script - -> Script : Prepare TOSCA Policy for creation
  Script - -> Script : Parse parameters from retrieved policy type
  Script - -> Script : Set Parameters in TOSCA Policy being prepared
  Script - -> PolicyDesign : Create Policy using command
  PolicyDesign - -> Script : Policy creation result
end

deactivate Script

@enduml

PlantUML version 1.2018.13(Mon Nov 26 13:11:51 AST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Ubuntu-1ubuntu119.10.1
Operating System: Linux
OS Version: 5.3.0-46-generic
Default Encoding: UTF-8
Language: en
Country: IE
--></g></svg>